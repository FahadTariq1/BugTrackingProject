{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { addClass, removeClass } from '@primeuix/utils/dom';\nimport PlusIcon from '@primevue/icons/plus';\nimport TimesIcon from '@primevue/icons/times';\nimport UploadIcon from '@primevue/icons/upload';\nimport Button from 'primevue/button';\nimport Message from 'primevue/message';\nimport ProgressBar from 'primevue/progressbar';\nimport Ripple from 'primevue/ripple';\nimport BaseComponent from '@primevue/core/basecomponent';\nimport FileUploadStyle from 'primevue/fileupload/style';\nimport Badge from 'primevue/badge';\nimport { resolveComponent, openBlock, createElementBlock, Fragment, renderList, mergeProps, createElementVNode, toDisplayString, createVNode, normalizeClass, withCtx, createBlock, resolveDynamicComponent, renderSlot, withKeys, createCommentVNode, createTextVNode, normalizeProps } from 'vue';\nvar script$2 = {\n  name: 'BaseFileUpload',\n  \"extends\": BaseComponent,\n  props: {\n    name: {\n      type: String,\n      \"default\": null\n    },\n    url: {\n      type: String,\n      \"default\": null\n    },\n    mode: {\n      type: String,\n      \"default\": 'advanced'\n    },\n    multiple: {\n      type: Boolean,\n      \"default\": false\n    },\n    accept: {\n      type: String,\n      \"default\": null\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    auto: {\n      type: Boolean,\n      \"default\": false\n    },\n    maxFileSize: {\n      type: Number,\n      \"default\": null\n    },\n    invalidFileSizeMessage: {\n      type: String,\n      \"default\": '{0}: Invalid file size, file size should be smaller than {1}.'\n    },\n    invalidFileTypeMessage: {\n      type: String,\n      \"default\": '{0}: Invalid file type, allowed file types: {1}.'\n    },\n    fileLimit: {\n      type: Number,\n      \"default\": null\n    },\n    invalidFileLimitMessage: {\n      type: String,\n      \"default\": 'Maximum number of files exceeded, limit is {0} at most.'\n    },\n    withCredentials: {\n      type: Boolean,\n      \"default\": false\n    },\n    previewWidth: {\n      type: Number,\n      \"default\": 50\n    },\n    chooseLabel: {\n      type: String,\n      \"default\": null\n    },\n    uploadLabel: {\n      type: String,\n      \"default\": null\n    },\n    cancelLabel: {\n      type: String,\n      \"default\": null\n    },\n    customUpload: {\n      type: Boolean,\n      \"default\": false\n    },\n    showUploadButton: {\n      type: Boolean,\n      \"default\": true\n    },\n    showCancelButton: {\n      type: Boolean,\n      \"default\": true\n    },\n    chooseIcon: {\n      type: String,\n      \"default\": undefined\n    },\n    uploadIcon: {\n      type: String,\n      \"default\": undefined\n    },\n    cancelIcon: {\n      type: String,\n      \"default\": undefined\n    },\n    style: null,\n    \"class\": null,\n    chooseButtonProps: {\n      type: null,\n      \"default\": null\n    },\n    uploadButtonProps: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          severity: 'secondary'\n        };\n      }\n    },\n    cancelButtonProps: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          severity: 'secondary'\n        };\n      }\n    }\n  },\n  style: FileUploadStyle,\n  provide: function provide() {\n    return {\n      $pcFileUpload: this,\n      $parentInstance: this\n    };\n  }\n};\nvar script$1 = {\n  name: 'FileContent',\n  hostName: 'FileUpload',\n  \"extends\": BaseComponent,\n  emits: ['remove'],\n  props: {\n    files: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    badgeSeverity: {\n      type: String,\n      \"default\": 'warn'\n    },\n    badgeValue: {\n      type: String,\n      \"default\": null\n    },\n    previewWidth: {\n      type: Number,\n      \"default\": 50\n    },\n    templates: {\n      type: null,\n      \"default\": null\n    }\n  },\n  methods: {\n    formatSize: function formatSize(bytes) {\n      var _this$$primevue$confi;\n      var k = 1024;\n      var dm = 3;\n      var sizes = ((_this$$primevue$confi = this.$primevue.config.locale) === null || _this$$primevue$confi === void 0 ? void 0 : _this$$primevue$confi.fileSizeTypes) || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n      if (bytes === 0) {\n        return \"0 \".concat(sizes[0]);\n      }\n      var i = Math.floor(Math.log(bytes) / Math.log(k));\n      var formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n      return \"\".concat(formattedSize, \" \").concat(sizes[i]);\n    }\n  },\n  components: {\n    Button: Button,\n    Badge: Badge,\n    TimesIcon: TimesIcon\n  }\n};\nvar _hoisted_1$1 = [\"alt\", \"src\", \"width\"];\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Badge = resolveComponent(\"Badge\");\n  var _component_TimesIcon = resolveComponent(\"TimesIcon\");\n  var _component_Button = resolveComponent(\"Button\");\n  return openBlock(true), createElementBlock(Fragment, null, renderList($props.files, function (file, index) {\n    return openBlock(), createElementBlock(\"div\", mergeProps({\n      key: file.name + file.type + file.size,\n      \"class\": _ctx.cx('file'),\n      ref_for: true\n    }, _ctx.ptm('file')), [createElementVNode(\"img\", mergeProps({\n      role: \"presentation\",\n      \"class\": _ctx.cx('fileThumbnail'),\n      alt: file.name,\n      src: file.objectURL,\n      width: $props.previewWidth,\n      ref_for: true\n    }, _ctx.ptm('fileThumbnail')), null, 16, _hoisted_1$1), createElementVNode(\"div\", mergeProps({\n      \"class\": _ctx.cx('fileInfo'),\n      ref_for: true\n    }, _ctx.ptm('fileInfo')), [createElementVNode(\"div\", mergeProps({\n      \"class\": _ctx.cx('fileName'),\n      ref_for: true\n    }, _ctx.ptm('fileName')), toDisplayString(file.name), 17), createElementVNode(\"span\", mergeProps({\n      \"class\": _ctx.cx('fileSize'),\n      ref_for: true\n    }, _ctx.ptm('fileSize')), toDisplayString($options.formatSize(file.size)), 17)], 16), createVNode(_component_Badge, {\n      value: $props.badgeValue,\n      \"class\": normalizeClass(_ctx.cx('pcFileBadge')),\n      severity: $props.badgeSeverity,\n      unstyled: _ctx.unstyled,\n      pt: _ctx.ptm('pcFileBadge')\n    }, null, 8, [\"value\", \"class\", \"severity\", \"unstyled\", \"pt\"]), createElementVNode(\"div\", mergeProps({\n      \"class\": _ctx.cx('fileActions'),\n      ref_for: true\n    }, _ctx.ptm('fileActions')), [createVNode(_component_Button, {\n      onClick: function onClick($event) {\n        return _ctx.$emit('remove', index);\n      },\n      text: \"\",\n      rounded: \"\",\n      severity: \"danger\",\n      \"class\": normalizeClass(_ctx.cx('pcFileRemoveButton')),\n      unstyled: _ctx.unstyled,\n      pt: _ctx.ptm('pcFileRemoveButton')\n    }, {\n      icon: withCtx(function (iconProps) {\n        return [$props.templates.fileremoveicon ? (openBlock(), createBlock(resolveDynamicComponent($props.templates.fileremoveicon), {\n          key: 0,\n          \"class\": normalizeClass(iconProps[\"class\"]),\n          file: file,\n          index: index\n        }, null, 8, [\"class\", \"file\", \"index\"])) : (openBlock(), createBlock(_component_TimesIcon, mergeProps({\n          key: 1,\n          \"class\": iconProps[\"class\"],\n          \"aria-hidden\": \"true\",\n          ref_for: true\n        }, _ctx.ptm('pcFileRemoveButton')['icon']), null, 16, [\"class\"]))];\n      }),\n      _: 2\n    }, 1032, [\"onClick\", \"class\", \"unstyled\", \"pt\"])], 16)], 16);\n  }), 128);\n}\nscript$1.render = render$1;\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _createForOfIteratorHelper(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (!t) {\n    if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e) {\n      t && (r = t);\n      var _n = 0,\n        F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          return _n >= r.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: r[_n++]\n          };\n        },\n        e: function e(r) {\n          throw r;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    a = !0,\n    u = !1;\n  return {\n    s: function s() {\n      t = t.call(r);\n    },\n    n: function n() {\n      var r = t.next();\n      return a = r.done, r;\n    },\n    e: function e(r) {\n      u = !0, o = r;\n    },\n    f: function f() {\n      try {\n        a || null == t[\"return\"] || t[\"return\"]();\n      } finally {\n        if (u) throw o;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nvar script = {\n  name: 'FileUpload',\n  \"extends\": script$2,\n  inheritAttrs: false,\n  emits: ['select', 'uploader', 'before-upload', 'progress', 'upload', 'error', 'before-send', 'clear', 'remove', 'remove-uploaded-file'],\n  duplicateIEEvent: false,\n  data: function data() {\n    return {\n      uploadedFileCount: 0,\n      files: [],\n      messages: [],\n      focused: false,\n      progress: null,\n      uploadedFiles: []\n    };\n  },\n  methods: {\n    upload: function upload() {\n      if (this.hasFiles) this.uploader();\n    },\n    onBasicUploaderClick: function onBasicUploaderClick(event) {\n      if (event.button === 0 && !this.hasFiles) this.$refs.fileInput.click();\n    },\n    onFileSelect: function onFileSelect(event) {\n      if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n        this.duplicateIEEvent = false;\n        return;\n      }\n      this.messages = [];\n      this.files = this.files || [];\n      var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n      var _iterator = _createForOfIteratorHelper(files),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var file = _step.value;\n          if (!this.isFileSelected(file)) {\n            if (this.validate(file)) {\n              if (this.isImage(file)) {\n                file.objectURL = window.URL.createObjectURL(file);\n              }\n              this.files.push(file);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.$emit('select', {\n        originalEvent: event,\n        files: this.files\n      });\n      if (this.fileLimit) {\n        this.checkFileLimit();\n      }\n      if (this.auto && this.hasFiles && !this.isFileLimitExceeded()) {\n        this.uploader();\n      }\n      if (event.type !== 'drop' && this.isIE11()) {\n        this.clearIEInput();\n      } else {\n        this.clearInputElement();\n      }\n    },\n    choose: function choose() {\n      this.$refs.fileInput.click();\n    },\n    uploader: function uploader() {\n      var _this = this;\n      if (this.customUpload) {\n        if (this.fileLimit) {\n          this.uploadedFileCount += this.files.length;\n        }\n        this.$emit('uploader', {\n          files: this.files\n        });\n        this.clear();\n      } else {\n        var xhr = new XMLHttpRequest();\n        var formData = new FormData();\n        this.$emit('before-upload', {\n          xhr: xhr,\n          formData: formData\n        });\n        var _iterator2 = _createForOfIteratorHelper(this.files),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n            formData.append(this.name, file, file.name);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        xhr.upload.addEventListener('progress', function (event) {\n          if (event.lengthComputable) {\n            _this.progress = Math.round(event.loaded * 100 / event.total);\n          }\n          _this.$emit('progress', {\n            originalEvent: event,\n            progress: _this.progress\n          });\n        });\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            var _this$uploadedFiles;\n            _this.progress = 0;\n            if (xhr.status >= 200 && xhr.status < 300) {\n              if (_this.fileLimit) {\n                _this.uploadedFileCount += _this.files.length;\n              }\n              _this.$emit('upload', {\n                xhr: xhr,\n                files: _this.files\n              });\n            } else {\n              _this.$emit('error', {\n                xhr: xhr,\n                files: _this.files\n              });\n            }\n            (_this$uploadedFiles = _this.uploadedFiles).push.apply(_this$uploadedFiles, _toConsumableArray(_this.files));\n            _this.clear();\n          }\n        };\n        xhr.open('POST', this.url, true);\n        this.$emit('before-send', {\n          xhr: xhr,\n          formData: formData\n        });\n        xhr.withCredentials = this.withCredentials;\n        xhr.send(formData);\n      }\n    },\n    clear: function clear() {\n      this.files = [];\n      this.messages = null;\n      this.$emit('clear');\n      if (this.isAdvanced) {\n        this.clearInputElement();\n      }\n    },\n    onFocus: function onFocus() {\n      this.focused = true;\n    },\n    onBlur: function onBlur() {\n      this.focused = false;\n    },\n    isFileSelected: function isFileSelected(file) {\n      if (this.files && this.files.length) {\n        var _iterator3 = _createForOfIteratorHelper(this.files),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var sFile = _step3.value;\n            if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n      return false;\n    },\n    isIE11: function isIE11() {\n      return !!window['MSInputMethodContext'] && !!document['documentMode'];\n    },\n    validate: function validate(file) {\n      if (this.accept && !this.isFileTypeValid(file)) {\n        this.messages.push(this.invalidFileTypeMessage.replace('{0}', file.name).replace('{1}', this.accept));\n        return false;\n      }\n      if (this.maxFileSize && file.size > this.maxFileSize) {\n        this.messages.push(this.invalidFileSizeMessage.replace('{0}', file.name).replace('{1}', this.formatSize(this.maxFileSize)));\n        return false;\n      }\n      return true;\n    },\n    isFileTypeValid: function isFileTypeValid(file) {\n      var acceptableTypes = this.accept.split(',').map(function (type) {\n        return type.trim();\n      });\n      var _iterator4 = _createForOfIteratorHelper(acceptableTypes),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var type = _step4.value;\n          var acceptable = this.isWildcard(type) ? this.getTypeClass(file.type) === this.getTypeClass(type) : file.type == type || this.getFileExtension(file).toLowerCase() === type.toLowerCase();\n          if (acceptable) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      return false;\n    },\n    getTypeClass: function getTypeClass(fileType) {\n      return fileType.substring(0, fileType.indexOf('/'));\n    },\n    isWildcard: function isWildcard(fileType) {\n      return fileType.indexOf('*') !== -1;\n    },\n    getFileExtension: function getFileExtension(file) {\n      return '.' + file.name.split('.').pop();\n    },\n    isImage: function isImage(file) {\n      return /^image\\//.test(file.type);\n    },\n    onDragEnter: function onDragEnter(event) {\n      if (!this.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n    onDragOver: function onDragOver(event) {\n      if (!this.disabled) {\n        !this.isUnstyled && addClass(this.$refs.content, 'p-fileupload-highlight');\n        this.$refs.content.setAttribute('data-p-highlight', true);\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n    onDragLeave: function onDragLeave() {\n      if (!this.disabled) {\n        !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n        this.$refs.content.setAttribute('data-p-highlight', false);\n      }\n    },\n    onDrop: function onDrop(event) {\n      if (!this.disabled) {\n        !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n        this.$refs.content.setAttribute('data-p-highlight', false);\n        event.stopPropagation();\n        event.preventDefault();\n        var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n        var allowDrop = this.multiple || files && files.length === 1;\n        if (allowDrop) {\n          this.onFileSelect(event);\n        }\n      }\n    },\n    remove: function remove(index) {\n      this.clearInputElement();\n      var removedFile = this.files.splice(index, 1)[0];\n      this.files = _toConsumableArray(this.files);\n      this.$emit('remove', {\n        file: removedFile,\n        files: this.files\n      });\n    },\n    removeUploadedFile: function removeUploadedFile(index) {\n      var removedFile = this.uploadedFiles.splice(index, 1)[0];\n      this.uploadedFiles = _toConsumableArray(this.uploadedFiles);\n      this.$emit('remove-uploaded-file', {\n        file: removedFile,\n        files: this.uploadedFiles\n      });\n    },\n    clearInputElement: function clearInputElement() {\n      this.$refs.fileInput.value = '';\n    },\n    clearIEInput: function clearIEInput() {\n      if (this.$refs.fileInput) {\n        this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n        this.$refs.fileInput.value = '';\n      }\n    },\n    formatSize: function formatSize(bytes) {\n      var _this$$primevue$confi;\n      var k = 1024;\n      var dm = 3;\n      var sizes = ((_this$$primevue$confi = this.$primevue.config.locale) === null || _this$$primevue$confi === void 0 ? void 0 : _this$$primevue$confi.fileSizeTypes) || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n      if (bytes === 0) {\n        return \"0 \".concat(sizes[0]);\n      }\n      var i = Math.floor(Math.log(bytes) / Math.log(k));\n      var formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n      return \"\".concat(formattedSize, \" \").concat(sizes[i]);\n    },\n    isFileLimitExceeded: function isFileLimitExceeded() {\n      if (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount && this.focused) {\n        this.focused = false;\n      }\n      return this.fileLimit && this.fileLimit < this.files.length + this.uploadedFileCount;\n    },\n    checkFileLimit: function checkFileLimit() {\n      if (this.isFileLimitExceeded()) {\n        this.messages.push(this.invalidFileLimitMessage.replace('{0}', this.fileLimit.toString()));\n      }\n    },\n    onMessageClose: function onMessageClose() {\n      this.messages = null;\n    }\n  },\n  computed: {\n    isAdvanced: function isAdvanced() {\n      return this.mode === 'advanced';\n    },\n    isBasic: function isBasic() {\n      return this.mode === 'basic';\n    },\n    chooseButtonClass: function chooseButtonClass() {\n      return [this.cx('pcChooseButton'), this[\"class\"]];\n    },\n    basicFileChosenLabel: function basicFileChosenLabel() {\n      var _this$$primevue$confi3;\n      if (this.auto) return this.chooseButtonLabel;else if (this.hasFiles) {\n        var _this$$primevue$confi2;\n        if (this.files && this.files.length === 1) return this.files[0].name;\n        return (_this$$primevue$confi2 = this.$primevue.config.locale) === null || _this$$primevue$confi2 === void 0 || (_this$$primevue$confi2 = _this$$primevue$confi2.fileChosenMessage) === null || _this$$primevue$confi2 === void 0 ? void 0 : _this$$primevue$confi2.replace('{0}', this.files.length);\n      }\n      return ((_this$$primevue$confi3 = this.$primevue.config.locale) === null || _this$$primevue$confi3 === void 0 ? void 0 : _this$$primevue$confi3.noFileChosenMessage) || '';\n    },\n    hasFiles: function hasFiles() {\n      return this.files && this.files.length > 0;\n    },\n    hasUploadedFiles: function hasUploadedFiles() {\n      return this.uploadedFiles && this.uploadedFiles.length > 0;\n    },\n    chooseDisabled: function chooseDisabled() {\n      return this.disabled || this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount;\n    },\n    uploadDisabled: function uploadDisabled() {\n      return this.disabled || !this.hasFiles || this.fileLimit && this.fileLimit < this.files.length;\n    },\n    cancelDisabled: function cancelDisabled() {\n      return this.disabled || !this.hasFiles;\n    },\n    chooseButtonLabel: function chooseButtonLabel() {\n      return this.chooseLabel || this.$primevue.config.locale.choose;\n    },\n    uploadButtonLabel: function uploadButtonLabel() {\n      return this.uploadLabel || this.$primevue.config.locale.upload;\n    },\n    cancelButtonLabel: function cancelButtonLabel() {\n      return this.cancelLabel || this.$primevue.config.locale.cancel;\n    },\n    completedLabel: function completedLabel() {\n      return this.$primevue.config.locale.completed;\n    },\n    pendingLabel: function pendingLabel() {\n      return this.$primevue.config.locale.pending;\n    }\n  },\n  components: {\n    Button: Button,\n    ProgressBar: ProgressBar,\n    Message: Message,\n    FileContent: script$1,\n    PlusIcon: PlusIcon,\n    UploadIcon: UploadIcon,\n    TimesIcon: TimesIcon\n  },\n  directives: {\n    ripple: Ripple\n  }\n};\nvar _hoisted_1 = [\"multiple\", \"accept\", \"disabled\"];\nvar _hoisted_2 = [\"files\"];\nvar _hoisted_3 = [\"accept\", \"disabled\", \"multiple\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Button = resolveComponent(\"Button\");\n  var _component_ProgressBar = resolveComponent(\"ProgressBar\");\n  var _component_Message = resolveComponent(\"Message\");\n  var _component_FileContent = resolveComponent(\"FileContent\");\n  return $options.isAdvanced ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 0,\n    \"class\": _ctx.cx('root')\n  }, _ctx.ptmi('root')), [createElementVNode(\"input\", mergeProps({\n    ref: \"fileInput\",\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = function () {\n      return $options.onFileSelect && $options.onFileSelect.apply($options, arguments);\n    }),\n    multiple: _ctx.multiple,\n    accept: _ctx.accept,\n    disabled: $options.chooseDisabled\n  }, _ctx.ptm('input')), null, 16, _hoisted_1), createElementVNode(\"div\", mergeProps({\n    \"class\": _ctx.cx('header')\n  }, _ctx.ptm('header')), [renderSlot(_ctx.$slots, \"header\", {\n    files: $data.files,\n    uploadedFiles: $data.uploadedFiles,\n    chooseCallback: $options.choose,\n    uploadCallback: $options.uploader,\n    clearCallback: $options.clear\n  }, function () {\n    return [createVNode(_component_Button, mergeProps({\n      label: $options.chooseButtonLabel,\n      \"class\": $options.chooseButtonClass,\n      style: _ctx.style,\n      disabled: _ctx.disabled,\n      unstyled: _ctx.unstyled,\n      onClick: $options.choose,\n      onKeydown: withKeys($options.choose, [\"enter\"]),\n      onFocus: $options.onFocus,\n      onBlur: $options.onBlur\n    }, _ctx.chooseButtonProps, {\n      pt: _ctx.ptm('pcChooseButton')\n    }), {\n      icon: withCtx(function (iconProps) {\n        return [renderSlot(_ctx.$slots, \"chooseicon\", {}, function () {\n          return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.chooseIcon ? 'span' : 'PlusIcon'), mergeProps({\n            \"class\": [iconProps[\"class\"], _ctx.chooseIcon],\n            \"aria-hidden\": \"true\"\n          }, _ctx.ptm('pcChooseButton')['icon']), null, 16, [\"class\"]))];\n        })];\n      }),\n      _: 3\n    }, 16, [\"label\", \"class\", \"style\", \"disabled\", \"unstyled\", \"onClick\", \"onKeydown\", \"onFocus\", \"onBlur\", \"pt\"]), _ctx.showUploadButton ? (openBlock(), createBlock(_component_Button, mergeProps({\n      key: 0,\n      \"class\": _ctx.cx('pcUploadButton'),\n      label: $options.uploadButtonLabel,\n      onClick: $options.uploader,\n      disabled: $options.uploadDisabled,\n      unstyled: _ctx.unstyled\n    }, _ctx.uploadButtonProps, {\n      pt: _ctx.ptm('pcUploadButton')\n    }), {\n      icon: withCtx(function (iconProps) {\n        return [renderSlot(_ctx.$slots, \"uploadicon\", {}, function () {\n          return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.uploadIcon ? 'span' : 'UploadIcon'), mergeProps({\n            \"class\": [iconProps[\"class\"], _ctx.uploadIcon],\n            \"aria-hidden\": \"true\"\n          }, _ctx.ptm('pcUploadButton')['icon'], {\n            \"data-pc-section\": \"uploadbuttonicon\"\n          }), null, 16, [\"class\"]))];\n        })];\n      }),\n      _: 3\n    }, 16, [\"class\", \"label\", \"onClick\", \"disabled\", \"unstyled\", \"pt\"])) : createCommentVNode(\"\", true), _ctx.showCancelButton ? (openBlock(), createBlock(_component_Button, mergeProps({\n      key: 1,\n      \"class\": _ctx.cx('pcCancelButton'),\n      label: $options.cancelButtonLabel,\n      onClick: $options.clear,\n      disabled: $options.cancelDisabled,\n      unstyled: _ctx.unstyled\n    }, _ctx.cancelButtonProps, {\n      pt: _ctx.ptm('pcCancelButton')\n    }), {\n      icon: withCtx(function (iconProps) {\n        return [renderSlot(_ctx.$slots, \"cancelicon\", {}, function () {\n          return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.cancelIcon ? 'span' : 'TimesIcon'), mergeProps({\n            \"class\": [iconProps[\"class\"], _ctx.cancelIcon],\n            \"aria-hidden\": \"true\"\n          }, _ctx.ptm('pcCancelButton')['icon'], {\n            \"data-pc-section\": \"cancelbuttonicon\"\n          }), null, 16, [\"class\"]))];\n        })];\n      }),\n      _: 3\n    }, 16, [\"class\", \"label\", \"onClick\", \"disabled\", \"unstyled\", \"pt\"])) : createCommentVNode(\"\", true)];\n  })], 16), createElementVNode(\"div\", mergeProps({\n    ref: \"content\",\n    \"class\": _ctx.cx('content'),\n    onDragenter: _cache[1] || (_cache[1] = function () {\n      return $options.onDragEnter && $options.onDragEnter.apply($options, arguments);\n    }),\n    onDragover: _cache[2] || (_cache[2] = function () {\n      return $options.onDragOver && $options.onDragOver.apply($options, arguments);\n    }),\n    onDragleave: _cache[3] || (_cache[3] = function () {\n      return $options.onDragLeave && $options.onDragLeave.apply($options, arguments);\n    }),\n    onDrop: _cache[4] || (_cache[4] = function () {\n      return $options.onDrop && $options.onDrop.apply($options, arguments);\n    })\n  }, _ctx.ptm('content'), {\n    \"data-p-highlight\": false\n  }), [renderSlot(_ctx.$slots, \"content\", {\n    files: $data.files,\n    uploadedFiles: $data.uploadedFiles,\n    removeUploadedFileCallback: $options.removeUploadedFile,\n    removeFileCallback: $options.remove,\n    progress: $data.progress,\n    messages: $data.messages\n  }, function () {\n    return [$options.hasFiles ? (openBlock(), createBlock(_component_ProgressBar, {\n      key: 0,\n      value: $data.progress,\n      showValue: false,\n      unstyled: _ctx.unstyled,\n      pt: _ctx.ptm('pcProgressbar')\n    }, null, 8, [\"value\", \"unstyled\", \"pt\"])) : createCommentVNode(\"\", true), (openBlock(true), createElementBlock(Fragment, null, renderList($data.messages, function (msg) {\n      return openBlock(), createBlock(_component_Message, {\n        key: msg,\n        severity: \"error\",\n        onClose: $options.onMessageClose,\n        unstyled: _ctx.unstyled,\n        pt: _ctx.ptm('pcMessage')\n      }, {\n        \"default\": withCtx(function () {\n          return [createTextVNode(toDisplayString(msg), 1)];\n        }),\n        _: 2\n      }, 1032, [\"onClose\", \"unstyled\", \"pt\"]);\n    }), 128)), $options.hasFiles ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      \"class\": normalizeClass(_ctx.cx('fileList'))\n    }, [createVNode(_component_FileContent, {\n      files: $data.files,\n      onRemove: $options.remove,\n      badgeValue: $options.pendingLabel,\n      previewWidth: _ctx.previewWidth,\n      templates: _ctx.$slots,\n      unstyled: _ctx.unstyled,\n      pt: _ctx.pt\n    }, null, 8, [\"files\", \"onRemove\", \"badgeValue\", \"previewWidth\", \"templates\", \"unstyled\", \"pt\"])], 2)) : createCommentVNode(\"\", true), $options.hasUploadedFiles ? (openBlock(), createElementBlock(\"div\", {\n      key: 2,\n      \"class\": normalizeClass(_ctx.cx('fileList'))\n    }, [createVNode(_component_FileContent, {\n      files: $data.uploadedFiles,\n      onRemove: $options.removeUploadedFile,\n      badgeValue: $options.completedLabel,\n      badgeSeverity: \"success\",\n      previewWidth: _ctx.previewWidth,\n      templates: _ctx.$slots,\n      unstyled: _ctx.unstyled,\n      pt: _ctx.pt\n    }, null, 8, [\"files\", \"onRemove\", \"badgeValue\", \"previewWidth\", \"templates\", \"unstyled\", \"pt\"])], 2)) : createCommentVNode(\"\", true)];\n  }), _ctx.$slots.empty && !$options.hasFiles && !$options.hasUploadedFiles ? (openBlock(), createElementBlock(\"div\", normalizeProps(mergeProps({\n    key: 0\n  }, _ctx.ptm('empty'))), [renderSlot(_ctx.$slots, \"empty\")], 16)) : createCommentVNode(\"\", true)], 16)], 16)) : $options.isBasic ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 1,\n    \"class\": _ctx.cx('root')\n  }, _ctx.ptmi('root')), [(openBlock(true), createElementBlock(Fragment, null, renderList($data.messages, function (msg) {\n    return openBlock(), createBlock(_component_Message, {\n      key: msg,\n      severity: \"error\",\n      onClose: $options.onMessageClose,\n      unstyled: _ctx.unstyled,\n      pt: _ctx.ptm('pcMessages')\n    }, {\n      \"default\": withCtx(function () {\n        return [createTextVNode(toDisplayString(msg), 1)];\n      }),\n      _: 2\n    }, 1032, [\"onClose\", \"unstyled\", \"pt\"]);\n  }), 128)), createVNode(_component_Button, mergeProps({\n    label: $options.chooseButtonLabel,\n    \"class\": $options.chooseButtonClass,\n    style: _ctx.style,\n    disabled: _ctx.disabled,\n    unstyled: _ctx.unstyled,\n    onMouseup: $options.onBasicUploaderClick,\n    onKeydown: withKeys($options.choose, [\"enter\"]),\n    onFocus: $options.onFocus,\n    onBlur: $options.onBlur\n  }, _ctx.ptm('pcButton')), {\n    icon: withCtx(function (iconProps) {\n      return [!$options.hasFiles || _ctx.auto ? renderSlot(_ctx.$slots, \"uploadicon\", {\n        key: 0\n      }, function () {\n        return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.uploadIcon ? 'span' : 'UploadIcon'), mergeProps({\n          \"class\": [iconProps[\"class\"], _ctx.uploadIcon],\n          \"aria-hidden\": \"true\"\n        }, _ctx.ptm('pcButton')['icon']), null, 16, [\"class\"]))];\n      }) : renderSlot(_ctx.$slots, \"chooseicon\", {\n        key: 1\n      }, function () {\n        return [(openBlock(), createBlock(resolveDynamicComponent(_ctx.chooseIcon ? 'span' : 'PlusIcon'), mergeProps({\n          \"class\": [iconProps[\"class\"], _ctx.chooseIcon],\n          \"aria-hidden\": \"true\"\n        }, _ctx.ptm('pcButton')['icon']), null, 16, [\"class\"]))];\n      })];\n    }),\n    _: 3\n  }, 16, [\"label\", \"class\", \"style\", \"disabled\", \"unstyled\", \"onMouseup\", \"onKeydown\", \"onFocus\", \"onBlur\"]), !_ctx.auto ? renderSlot(_ctx.$slots, \"filelabel\", {\n    key: 0,\n    \"class\": normalizeClass(_ctx.cx('filelabel'))\n  }, function () {\n    return [createElementVNode(\"span\", {\n      \"class\": normalizeClass(_ctx.cx('filelabel')),\n      files: $data.files\n    }, toDisplayString($options.basicFileChosenLabel), 11, _hoisted_2)];\n  }) : createCommentVNode(\"\", true), !$options.hasFiles ? (openBlock(), createElementBlock(\"input\", mergeProps({\n    key: 1,\n    ref: \"fileInput\",\n    type: \"file\",\n    accept: _ctx.accept,\n    disabled: _ctx.disabled,\n    multiple: _ctx.multiple,\n    onChange: _cache[5] || (_cache[5] = function () {\n      return $options.onFileSelect && $options.onFileSelect.apply($options, arguments);\n    }),\n    onFocus: _cache[6] || (_cache[6] = function () {\n      return $options.onFocus && $options.onFocus.apply($options, arguments);\n    }),\n    onBlur: _cache[7] || (_cache[7] = function () {\n      return $options.onBlur && $options.onBlur.apply($options, arguments);\n    })\n  }, _ctx.ptm('input')), null, 16, _hoisted_3)) : createCommentVNode(\"\", true)], 16)) : createCommentVNode(\"\", true);\n}\nscript.render = render;\nexport { script as default };","map":{"version":3,"names":["script$2","name","BaseComponent","props","type","String","url","mode","multiple","Boolean","accept","disabled","auto","maxFileSize","Number","invalidFileSizeMessage","invalidFileTypeMessage","fileLimit","invalidFileLimitMessage","withCredentials","previewWidth","chooseLabel","uploadLabel","cancelLabel","customUpload","showUploadButton","showCancelButton","chooseIcon","undefined","uploadIcon","cancelIcon","style","chooseButtonProps","uploadButtonProps","Object","_default","severity","cancelButtonProps","FileUploadStyle","provide","$pcFileUpload","$parentInstance","script$1","hostName","emits","files","Array","badgeSeverity","badgeValue","templates","methods","formatSize","bytes","_this$$primevue$confi","k","dm","sizes","$primevue","config","locale","fileSizeTypes","concat","i","Math","floor","log","formattedSize","parseFloat","pow","toFixed","components","Button","Badge","TimesIcon","openBlock","createElementBlock","Fragment","renderList","$props","file","index","mergeProps","key","size","_ctx","cx","ptm","createElementVNode","role","alt","src","objectURL","width","_hoisted_1$1","toDisplayString","$options","createVNode","_component_Badge","value","normalizeClass","unstyled","pt","_component_Button","onClick","$event","$emit","text","rounded","icon","withCtx","iconProps","fileremoveicon","createBlock","resolveDynamicComponent","_component_TimesIcon","script","inheritAttrs","duplicateIEEvent","data","uploadedFileCount","messages","focused","progress","uploadedFiles","upload","hasFiles","uploader","onBasicUploaderClick","event","button","$refs","fileInput","click","onFileSelect","isIE11","dataTransfer","target","_iterator","_createForOfIteratorHelper","_step","s","n","done","isFileSelected","validate","isImage","window","URL","createObjectURL","push","err","e","f","originalEvent","checkFileLimit","isFileLimitExceeded","clearIEInput","clearInputElement","choose","_this","length","clear","xhr","XMLHttpRequest","formData","FormData","_iterator2","_step2","append","addEventListener","lengthComputable","round","loaded","total","onreadystatechange","readyState","_this$uploadedFiles","status","apply","_toConsumableArray","open","send","isAdvanced","onFocus","onBlur","_iterator3","_step3","sFile","document","isFileTypeValid","replace","acceptableTypes","split","map","trim","_iterator4","_step4","acceptable","isWildcard","getTypeClass","getFileExtension","toLowerCase","fileType","substring","indexOf","pop","test","onDragEnter","stopPropagation","preventDefault","onDragOver","isUnstyled","addClass","content","setAttribute","onDragLeave","removeClass","onDrop","allowDrop","remove","removedFile","splice","removeUploadedFile","toString","onMessageClose","computed","isBasic","chooseButtonClass","basicFileChosenLabel","_this$$primevue$confi3","chooseButtonLabel","_this$$primevue$confi2","fileChosenMessage","noFileChosenMessage","hasUploadedFiles","chooseDisabled","uploadDisabled","cancelDisabled","uploadButtonLabel","cancelButtonLabel","cancel","completedLabel","completed","pendingLabel","pending","ProgressBar","Message","FileContent","PlusIcon","UploadIcon","directives","ripple","Ripple","ptmi","ref","onChange","_cache","arguments","_hoisted_1","renderSlot","$slots","$data","chooseCallback","uploadCallback","clearCallback","label","onKeydown","withKeys","onDragenter","onDragover","onDragleave","removeUploadedFileCallback","removeFileCallback","_component_ProgressBar","showValue","msg","_component_Message","onClose","createTextVNode","_component_FileContent","onRemove","empty","normalizeProps","createCommentVNode","onMouseup","_hoisted_2","_hoisted_3"],"sources":["../../src/fileupload/BaseFileUpload.vue","../../src/fileupload/FileContent.vue","../../src/fileupload/FileContent.vue?vue&type=template&id=4b9f1ffb&lang.js","../../src/fileupload/FileUpload.vue","../../src/fileupload/FileUpload.vue?vue&type=template&id=1a3b40d8&lang.js"],"sourcesContent":["<script>\nimport BaseComponent from '@primevue/core/basecomponent';\nimport FileUploadStyle from 'primevue/fileupload/style';\n\nexport default {\n    name: 'BaseFileUpload',\n    extends: BaseComponent,\n    props: {\n        name: {\n            type: String,\n            default: null\n        },\n        url: {\n            type: String,\n            default: null\n        },\n        mode: {\n            type: String,\n            default: 'advanced'\n        },\n        multiple: {\n            type: Boolean,\n            default: false\n        },\n        accept: {\n            type: String,\n            default: null\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        auto: {\n            type: Boolean,\n            default: false\n        },\n        maxFileSize: {\n            type: Number,\n            default: null\n        },\n        invalidFileSizeMessage: {\n            type: String,\n            default: '{0}: Invalid file size, file size should be smaller than {1}.'\n        },\n        invalidFileTypeMessage: {\n            type: String,\n            default: '{0}: Invalid file type, allowed file types: {1}.'\n        },\n        fileLimit: {\n            type: Number,\n            default: null\n        },\n        invalidFileLimitMessage: {\n            type: String,\n            default: 'Maximum number of files exceeded, limit is {0} at most.'\n        },\n        withCredentials: {\n            type: Boolean,\n            default: false\n        },\n        previewWidth: {\n            type: Number,\n            default: 50\n        },\n        chooseLabel: {\n            type: String,\n            default: null\n        },\n        uploadLabel: {\n            type: String,\n            default: null\n        },\n        cancelLabel: {\n            type: String,\n            default: null\n        },\n        customUpload: {\n            type: Boolean,\n            default: false\n        },\n        showUploadButton: {\n            type: Boolean,\n            default: true\n        },\n        showCancelButton: {\n            type: Boolean,\n            default: true\n        },\n        chooseIcon: {\n            type: String,\n            default: undefined\n        },\n        uploadIcon: {\n            type: String,\n            default: undefined\n        },\n        cancelIcon: {\n            type: String,\n            default: undefined\n        },\n        style: null,\n        class: null,\n        chooseButtonProps: {\n            type: null,\n            default: null\n        },\n        uploadButtonProps: {\n            type: Object,\n            default() {\n                return { severity: 'secondary' };\n            }\n        },\n        cancelButtonProps: {\n            type: Object,\n            default() {\n                return { severity: 'secondary' };\n            }\n        }\n    },\n    style: FileUploadStyle,\n    provide() {\n        return {\n            $pcFileUpload: this,\n            $parentInstance: this\n        };\n    }\n};\n</script>\n","<template>\n    <div v-for=\"(file, index) of files\" :key=\"file.name + file.type + file.size\" :class=\"cx('file')\" v-bind=\"ptm('file')\">\n        <img role=\"presentation\" :class=\"cx('fileThumbnail')\" :alt=\"file.name\" :src=\"file.objectURL\" :width=\"previewWidth\" v-bind=\"ptm('fileThumbnail')\" />\n        <div :class=\"cx('fileInfo')\" v-bind=\"ptm('fileInfo')\">\n            <div :class=\"cx('fileName')\" v-bind=\"ptm('fileName')\">{{ file.name }}</div>\n            <span :class=\"cx('fileSize')\" v-bind=\"ptm('fileSize')\">{{ formatSize(file.size) }}</span>\n        </div>\n        <Badge :value=\"badgeValue\" :class=\"cx('pcFileBadge')\" :severity=\"badgeSeverity\" :unstyled=\"unstyled\" :pt=\"ptm('pcFileBadge')\" />\n        <div :class=\"cx('fileActions')\" v-bind=\"ptm('fileActions')\">\n            <Button @click=\"$emit('remove', index)\" text rounded severity=\"danger\" :class=\"cx('pcFileRemoveButton')\" :unstyled=\"unstyled\" :pt=\"ptm('pcFileRemoveButton')\">\n                <template #icon=\"iconProps\">\n                    <component v-if=\"templates.fileremoveicon\" :is=\"templates.fileremoveicon\" :class=\"iconProps.class\" :file=\"file\" :index=\"index\" />\n                    <TimesIcon v-else :class=\"iconProps.class\" aria-hidden=\"true\" v-bind=\"ptm('pcFileRemoveButton')['icon']\" />\n                </template>\n            </Button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport BaseComponent from '@primevue/core/basecomponent';\nimport TimesIcon from '@primevue/icons/times';\nimport Badge from 'primevue/badge';\nimport Button from 'primevue/button';\n\nexport default {\n    name: 'FileContent',\n    hostName: 'FileUpload',\n    extends: BaseComponent,\n    emits: ['remove'],\n    props: {\n        files: {\n            type: Array,\n            default: () => []\n        },\n        badgeSeverity: {\n            type: String,\n            default: 'warn'\n        },\n        badgeValue: {\n            type: String,\n            default: null\n        },\n        previewWidth: {\n            type: Number,\n            default: 50\n        },\n        templates: {\n            type: null,\n            default: null\n        }\n    },\n    methods: {\n        formatSize(bytes) {\n            const k = 1024;\n            const dm = 3;\n            const sizes = this.$primevue.config.locale?.fileSizeTypes || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n            if (bytes === 0) {\n                return `0 ${sizes[0]}`;\n            }\n\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            const formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n\n            return `${formattedSize} ${sizes[i]}`;\n        }\n    },\n    components: {\n        Button,\n        Badge,\n        TimesIcon\n    }\n};\n</script>\n","<template>\n    <div v-for=\"(file, index) of files\" :key=\"file.name + file.type + file.size\" :class=\"cx('file')\" v-bind=\"ptm('file')\">\n        <img role=\"presentation\" :class=\"cx('fileThumbnail')\" :alt=\"file.name\" :src=\"file.objectURL\" :width=\"previewWidth\" v-bind=\"ptm('fileThumbnail')\" />\n        <div :class=\"cx('fileInfo')\" v-bind=\"ptm('fileInfo')\">\n            <div :class=\"cx('fileName')\" v-bind=\"ptm('fileName')\">{{ file.name }}</div>\n            <span :class=\"cx('fileSize')\" v-bind=\"ptm('fileSize')\">{{ formatSize(file.size) }}</span>\n        </div>\n        <Badge :value=\"badgeValue\" :class=\"cx('pcFileBadge')\" :severity=\"badgeSeverity\" :unstyled=\"unstyled\" :pt=\"ptm('pcFileBadge')\" />\n        <div :class=\"cx('fileActions')\" v-bind=\"ptm('fileActions')\">\n            <Button @click=\"$emit('remove', index)\" text rounded severity=\"danger\" :class=\"cx('pcFileRemoveButton')\" :unstyled=\"unstyled\" :pt=\"ptm('pcFileRemoveButton')\">\n                <template #icon=\"iconProps\">\n                    <component v-if=\"templates.fileremoveicon\" :is=\"templates.fileremoveicon\" :class=\"iconProps.class\" :file=\"file\" :index=\"index\" />\n                    <TimesIcon v-else :class=\"iconProps.class\" aria-hidden=\"true\" v-bind=\"ptm('pcFileRemoveButton')['icon']\" />\n                </template>\n            </Button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport BaseComponent from '@primevue/core/basecomponent';\nimport TimesIcon from '@primevue/icons/times';\nimport Badge from 'primevue/badge';\nimport Button from 'primevue/button';\n\nexport default {\n    name: 'FileContent',\n    hostName: 'FileUpload',\n    extends: BaseComponent,\n    emits: ['remove'],\n    props: {\n        files: {\n            type: Array,\n            default: () => []\n        },\n        badgeSeverity: {\n            type: String,\n            default: 'warn'\n        },\n        badgeValue: {\n            type: String,\n            default: null\n        },\n        previewWidth: {\n            type: Number,\n            default: 50\n        },\n        templates: {\n            type: null,\n            default: null\n        }\n    },\n    methods: {\n        formatSize(bytes) {\n            const k = 1024;\n            const dm = 3;\n            const sizes = this.$primevue.config.locale?.fileSizeTypes || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n            if (bytes === 0) {\n                return `0 ${sizes[0]}`;\n            }\n\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            const formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n\n            return `${formattedSize} ${sizes[i]}`;\n        }\n    },\n    components: {\n        Button,\n        Badge,\n        TimesIcon\n    }\n};\n</script>\n","<template>\n    <div v-if=\"isAdvanced\" :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <input ref=\"fileInput\" type=\"file\" @change=\"onFileSelect\" :multiple=\"multiple\" :accept=\"accept\" :disabled=\"chooseDisabled\" v-bind=\"ptm('input')\" />\n        <div :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <slot name=\"header\" :files=\"files\" :uploadedFiles=\"uploadedFiles\" :chooseCallback=\"choose\" :uploadCallback=\"uploader\" :clearCallback=\"clear\">\n                <Button\n                    :label=\"chooseButtonLabel\"\n                    :class=\"chooseButtonClass\"\n                    :style=\"style\"\n                    :disabled=\"disabled\"\n                    :unstyled=\"unstyled\"\n                    @click=\"choose\"\n                    @keydown.enter=\"choose\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                    v-bind=\"chooseButtonProps\"\n                    :pt=\"ptm('pcChooseButton')\"\n                >\n                    <template #icon=\"iconProps\">\n                        <slot name=\"chooseicon\">\n                            <component :is=\"chooseIcon ? 'span' : 'PlusIcon'\" :class=\"[iconProps.class, chooseIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcChooseButton')['icon']\" />\n                        </slot>\n                    </template>\n                </Button>\n                <Button v-if=\"showUploadButton\" :class=\"cx('pcUploadButton')\" :label=\"uploadButtonLabel\" @click=\"uploader\" :disabled=\"uploadDisabled\" :unstyled=\"unstyled\" v-bind=\"uploadButtonProps\" :pt=\"ptm('pcUploadButton')\">\n                    <template #icon=\"iconProps\">\n                        <slot name=\"uploadicon\">\n                            <component :is=\"uploadIcon ? 'span' : 'UploadIcon'\" :class=\"[iconProps.class, uploadIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcUploadButton')['icon']\" data-pc-section=\"uploadbuttonicon\" />\n                        </slot>\n                    </template>\n                </Button>\n                <Button v-if=\"showCancelButton\" :class=\"cx('pcCancelButton')\" :label=\"cancelButtonLabel\" @click=\"clear\" :disabled=\"cancelDisabled\" :unstyled=\"unstyled\" v-bind=\"cancelButtonProps\" :pt=\"ptm('pcCancelButton')\">\n                    <template #icon=\"iconProps\">\n                        <slot name=\"cancelicon\">\n                            <component :is=\"cancelIcon ? 'span' : 'TimesIcon'\" :class=\"[iconProps.class, cancelIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcCancelButton')['icon']\" data-pc-section=\"cancelbuttonicon\" />\n                        </slot>\n                    </template>\n                </Button>\n            </slot>\n        </div>\n        <div ref=\"content\" :class=\"cx('content')\" @dragenter=\"onDragEnter\" @dragover=\"onDragOver\" @dragleave=\"onDragLeave\" @drop=\"onDrop\" v-bind=\"ptm('content')\" :data-p-highlight=\"false\">\n            <slot name=\"content\" :files=\"files\" :uploadedFiles=\"uploadedFiles\" :removeUploadedFileCallback=\"removeUploadedFile\" :removeFileCallback=\"remove\" :progress=\"progress\" :messages=\"messages\">\n                <ProgressBar v-if=\"hasFiles\" :value=\"progress\" :showValue=\"false\" :unstyled=\"unstyled\" :pt=\"ptm('pcProgressbar')\" />\n                <Message v-for=\"msg of messages\" :key=\"msg\" severity=\"error\" @close=\"onMessageClose\" :unstyled=\"unstyled\" :pt=\"ptm('pcMessage')\">{{ msg }}</Message>\n                <div v-if=\"hasFiles\" :class=\"cx('fileList')\">\n                    <FileContent :files=\"files\" @remove=\"remove\" :badgeValue=\"pendingLabel\" :previewWidth=\"previewWidth\" :templates=\"$slots\" :unstyled=\"unstyled\" :pt=\"pt\" />\n                </div>\n                <div v-if=\"hasUploadedFiles\" :class=\"cx('fileList')\">\n                    <FileContent :files=\"uploadedFiles\" @remove=\"removeUploadedFile\" :badgeValue=\"completedLabel\" badgeSeverity=\"success\" :previewWidth=\"previewWidth\" :templates=\"$slots\" :unstyled=\"unstyled\" :pt=\"pt\" />\n                </div>\n            </slot>\n            <div v-if=\"$slots.empty && !hasFiles && !hasUploadedFiles\" v-bind=\"ptm('empty')\">\n                <slot name=\"empty\"></slot>\n            </div>\n        </div>\n    </div>\n    <div v-else-if=\"isBasic\" :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <Message v-for=\"msg of messages\" :key=\"msg\" severity=\"error\" @close=\"onMessageClose\" :unstyled=\"unstyled\" :pt=\"ptm('pcMessages')\">{{ msg }}</Message>\n        <Button :label=\"chooseButtonLabel\" :class=\"chooseButtonClass\" :style=\"style\" :disabled=\"disabled\" :unstyled=\"unstyled\" @mouseup=\"onBasicUploaderClick\" @keydown.enter=\"choose\" @focus=\"onFocus\" @blur=\"onBlur\" v-bind=\"ptm('pcButton')\">\n            <template #icon=\"iconProps\">\n                <slot v-if=\"!hasFiles || auto\" name=\"uploadicon\">\n                    <component :is=\"uploadIcon ? 'span' : 'UploadIcon'\" :class=\"[iconProps.class, uploadIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcButton')['icon']\" />\n                </slot>\n                <slot v-else name=\"chooseicon\">\n                    <component :is=\"chooseIcon ? 'span' : 'PlusIcon'\" :class=\"[iconProps.class, chooseIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcButton')['icon']\" />\n                </slot>\n            </template>\n        </Button>\n        <slot v-if=\"!auto\" name=\"filelabel\" :class=\"cx('filelabel')\">\n            <span :class=\"cx('filelabel')\" :files=\"files\">\n                {{ basicFileChosenLabel }}\n            </span>\n        </slot>\n        <input v-if=\"!hasFiles\" ref=\"fileInput\" type=\"file\" :accept=\"accept\" :disabled=\"disabled\" :multiple=\"multiple\" @change=\"onFileSelect\" @focus=\"onFocus\" @blur=\"onBlur\" v-bind=\"ptm('input')\" />\n    </div>\n</template>\n\n<script>\nimport { addClass, removeClass } from '@primeuix/utils/dom';\nimport PlusIcon from '@primevue/icons/plus';\nimport TimesIcon from '@primevue/icons/times';\nimport UploadIcon from '@primevue/icons/upload';\nimport Button from 'primevue/button';\nimport Message from 'primevue/message';\nimport ProgressBar from 'primevue/progressbar';\nimport Ripple from 'primevue/ripple';\nimport BaseFileUpload from './BaseFileUpload.vue';\nimport FileContent from './FileContent.vue';\n\nexport default {\n    name: 'FileUpload',\n    extends: BaseFileUpload,\n    inheritAttrs: false,\n    emits: ['select', 'uploader', 'before-upload', 'progress', 'upload', 'error', 'before-send', 'clear', 'remove', 'remove-uploaded-file'],\n    duplicateIEEvent: false,\n    data() {\n        return {\n            uploadedFileCount: 0,\n            files: [],\n            messages: [],\n            focused: false,\n            progress: null,\n            uploadedFiles: []\n        };\n    },\n    methods: {\n        upload() {\n            if (this.hasFiles) this.uploader();\n        },\n        onBasicUploaderClick(event) {\n            if (event.button === 0 && !this.hasFiles) this.$refs.fileInput.click();\n        },\n        onFileSelect(event) {\n            if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n                this.duplicateIEEvent = false;\n\n                return;\n            }\n\n            this.messages = [];\n            this.files = this.files || [];\n            let files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n            for (let file of files) {\n                if (!this.isFileSelected(file)) {\n                    if (this.validate(file)) {\n                        if (this.isImage(file)) {\n                            file.objectURL = window.URL.createObjectURL(file);\n                        }\n\n                        this.files.push(file);\n                    }\n                }\n            }\n\n            this.$emit('select', { originalEvent: event, files: this.files });\n\n            if (this.fileLimit) {\n                this.checkFileLimit();\n            }\n\n            if (this.auto && this.hasFiles && !this.isFileLimitExceeded()) {\n                this.uploader();\n            }\n\n            if (event.type !== 'drop' && this.isIE11()) {\n                this.clearIEInput();\n            } else {\n                this.clearInputElement();\n            }\n        },\n        choose() {\n            this.$refs.fileInput.click();\n        },\n        uploader() {\n            if (this.customUpload) {\n                if (this.fileLimit) {\n                    this.uploadedFileCount += this.files.length;\n                }\n\n                this.$emit('uploader', { files: this.files });\n                this.clear();\n            } else {\n                let xhr = new XMLHttpRequest();\n                let formData = new FormData();\n\n                this.$emit('before-upload', {\n                    xhr: xhr,\n                    formData: formData\n                });\n\n                for (let file of this.files) {\n                    formData.append(this.name, file, file.name);\n                }\n\n                xhr.upload.addEventListener('progress', (event) => {\n                    if (event.lengthComputable) {\n                        this.progress = Math.round((event.loaded * 100) / event.total);\n                    }\n\n                    this.$emit('progress', {\n                        originalEvent: event,\n                        progress: this.progress\n                    });\n                });\n\n                xhr.onreadystatechange = () => {\n                    if (xhr.readyState === 4) {\n                        this.progress = 0;\n\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (this.fileLimit) {\n                                this.uploadedFileCount += this.files.length;\n                            }\n\n                            this.$emit('upload', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        } else {\n                            this.$emit('error', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        }\n\n                        this.uploadedFiles.push(...this.files);\n                        this.clear();\n                    }\n                };\n\n                xhr.open('POST', this.url, true);\n\n                this.$emit('before-send', {\n                    xhr: xhr,\n                    formData: formData\n                });\n\n                xhr.withCredentials = this.withCredentials;\n\n                xhr.send(formData);\n            }\n        },\n        clear() {\n            this.files = [];\n            this.messages = null;\n            this.$emit('clear');\n\n            if (this.isAdvanced) {\n                this.clearInputElement();\n            }\n        },\n        onFocus() {\n            this.focused = true;\n        },\n        onBlur() {\n            this.focused = false;\n        },\n        isFileSelected(file) {\n            if (this.files && this.files.length) {\n                for (let sFile of this.files) {\n                    if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n                }\n            }\n\n            return false;\n        },\n        isIE11() {\n            return !!window['MSInputMethodContext'] && !!document['documentMode'];\n        },\n        validate(file) {\n            if (this.accept && !this.isFileTypeValid(file)) {\n                this.messages.push(this.invalidFileTypeMessage.replace('{0}', file.name).replace('{1}', this.accept));\n\n                return false;\n            }\n\n            if (this.maxFileSize && file.size > this.maxFileSize) {\n                this.messages.push(this.invalidFileSizeMessage.replace('{0}', file.name).replace('{1}', this.formatSize(this.maxFileSize)));\n\n                return false;\n            }\n\n            return true;\n        },\n        isFileTypeValid(file) {\n            let acceptableTypes = this.accept.split(',').map((type) => type.trim());\n\n            for (let type of acceptableTypes) {\n                let acceptable = this.isWildcard(type) ? this.getTypeClass(file.type) === this.getTypeClass(type) : file.type == type || this.getFileExtension(file).toLowerCase() === type.toLowerCase();\n\n                if (acceptable) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n        getTypeClass(fileType) {\n            return fileType.substring(0, fileType.indexOf('/'));\n        },\n        isWildcard(fileType) {\n            return fileType.indexOf('*') !== -1;\n        },\n        getFileExtension(file) {\n            return '.' + file.name.split('.').pop();\n        },\n        isImage(file) {\n            return /^image\\//.test(file.type);\n        },\n        onDragEnter(event) {\n            if (!this.disabled) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragOver(event) {\n            if (!this.disabled) {\n                !this.isUnstyled && addClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', true);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragLeave() {\n            if (!this.disabled) {\n                !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', false);\n            }\n        },\n        onDrop(event) {\n            if (!this.disabled) {\n                !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', false);\n                event.stopPropagation();\n                event.preventDefault();\n\n                const files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n                const allowDrop = this.multiple || (files && files.length === 1);\n\n                if (allowDrop) {\n                    this.onFileSelect(event);\n                }\n            }\n        },\n        remove(index) {\n            this.clearInputElement();\n            let removedFile = this.files.splice(index, 1)[0];\n\n            this.files = [...this.files];\n            this.$emit('remove', {\n                file: removedFile,\n                files: this.files\n            });\n        },\n        removeUploadedFile(index) {\n            let removedFile = this.uploadedFiles.splice(index, 1)[0];\n\n            this.uploadedFiles = [...this.uploadedFiles];\n            this.$emit('remove-uploaded-file', {\n                file: removedFile,\n                files: this.uploadedFiles\n            });\n        },\n        clearInputElement() {\n            this.$refs.fileInput.value = '';\n        },\n        clearIEInput() {\n            if (this.$refs.fileInput) {\n                this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n                this.$refs.fileInput.value = '';\n            }\n        },\n        formatSize(bytes) {\n            const k = 1024;\n            const dm = 3;\n            const sizes = this.$primevue.config.locale?.fileSizeTypes || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n            if (bytes === 0) {\n                return `0 ${sizes[0]}`;\n            }\n\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            const formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n\n            return `${formattedSize} ${sizes[i]}`;\n        },\n        isFileLimitExceeded() {\n            if (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount && this.focused) {\n                this.focused = false;\n            }\n\n            return this.fileLimit && this.fileLimit < this.files.length + this.uploadedFileCount;\n        },\n        checkFileLimit() {\n            if (this.isFileLimitExceeded()) {\n                this.messages.push(this.invalidFileLimitMessage.replace('{0}', this.fileLimit.toString()));\n            }\n        },\n        onMessageClose() {\n            this.messages = null;\n        }\n    },\n    computed: {\n        isAdvanced() {\n            return this.mode === 'advanced';\n        },\n        isBasic() {\n            return this.mode === 'basic';\n        },\n        chooseButtonClass() {\n            return [this.cx('pcChooseButton'), this.class];\n        },\n        basicFileChosenLabel() {\n            if (this.auto) return this.chooseButtonLabel;\n            else if (this.hasFiles) {\n                if (this.files && this.files.length === 1) return this.files[0].name;\n\n                return this.$primevue.config.locale?.fileChosenMessage?.replace('{0}', this.files.length);\n            }\n\n            return this.$primevue.config.locale?.noFileChosenMessage || '';\n        },\n        hasFiles() {\n            return this.files && this.files.length > 0;\n        },\n        hasUploadedFiles() {\n            return this.uploadedFiles && this.uploadedFiles.length > 0;\n        },\n        chooseDisabled() {\n            return this.disabled || (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount);\n        },\n        uploadDisabled() {\n            return this.disabled || !this.hasFiles || (this.fileLimit && this.fileLimit < this.files.length);\n        },\n        cancelDisabled() {\n            return this.disabled || !this.hasFiles;\n        },\n        chooseButtonLabel() {\n            return this.chooseLabel || this.$primevue.config.locale.choose;\n        },\n        uploadButtonLabel() {\n            return this.uploadLabel || this.$primevue.config.locale.upload;\n        },\n        cancelButtonLabel() {\n            return this.cancelLabel || this.$primevue.config.locale.cancel;\n        },\n        completedLabel() {\n            return this.$primevue.config.locale.completed;\n        },\n        pendingLabel() {\n            return this.$primevue.config.locale.pending;\n        }\n    },\n    components: {\n        Button,\n        ProgressBar,\n        Message,\n        FileContent,\n        PlusIcon,\n        UploadIcon,\n        TimesIcon\n    },\n    directives: {\n        ripple: Ripple\n    }\n};\n</script>\n","<template>\n    <div v-if=\"isAdvanced\" :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <input ref=\"fileInput\" type=\"file\" @change=\"onFileSelect\" :multiple=\"multiple\" :accept=\"accept\" :disabled=\"chooseDisabled\" v-bind=\"ptm('input')\" />\n        <div :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <slot name=\"header\" :files=\"files\" :uploadedFiles=\"uploadedFiles\" :chooseCallback=\"choose\" :uploadCallback=\"uploader\" :clearCallback=\"clear\">\n                <Button\n                    :label=\"chooseButtonLabel\"\n                    :class=\"chooseButtonClass\"\n                    :style=\"style\"\n                    :disabled=\"disabled\"\n                    :unstyled=\"unstyled\"\n                    @click=\"choose\"\n                    @keydown.enter=\"choose\"\n                    @focus=\"onFocus\"\n                    @blur=\"onBlur\"\n                    v-bind=\"chooseButtonProps\"\n                    :pt=\"ptm('pcChooseButton')\"\n                >\n                    <template #icon=\"iconProps\">\n                        <slot name=\"chooseicon\">\n                            <component :is=\"chooseIcon ? 'span' : 'PlusIcon'\" :class=\"[iconProps.class, chooseIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcChooseButton')['icon']\" />\n                        </slot>\n                    </template>\n                </Button>\n                <Button v-if=\"showUploadButton\" :class=\"cx('pcUploadButton')\" :label=\"uploadButtonLabel\" @click=\"uploader\" :disabled=\"uploadDisabled\" :unstyled=\"unstyled\" v-bind=\"uploadButtonProps\" :pt=\"ptm('pcUploadButton')\">\n                    <template #icon=\"iconProps\">\n                        <slot name=\"uploadicon\">\n                            <component :is=\"uploadIcon ? 'span' : 'UploadIcon'\" :class=\"[iconProps.class, uploadIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcUploadButton')['icon']\" data-pc-section=\"uploadbuttonicon\" />\n                        </slot>\n                    </template>\n                </Button>\n                <Button v-if=\"showCancelButton\" :class=\"cx('pcCancelButton')\" :label=\"cancelButtonLabel\" @click=\"clear\" :disabled=\"cancelDisabled\" :unstyled=\"unstyled\" v-bind=\"cancelButtonProps\" :pt=\"ptm('pcCancelButton')\">\n                    <template #icon=\"iconProps\">\n                        <slot name=\"cancelicon\">\n                            <component :is=\"cancelIcon ? 'span' : 'TimesIcon'\" :class=\"[iconProps.class, cancelIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcCancelButton')['icon']\" data-pc-section=\"cancelbuttonicon\" />\n                        </slot>\n                    </template>\n                </Button>\n            </slot>\n        </div>\n        <div ref=\"content\" :class=\"cx('content')\" @dragenter=\"onDragEnter\" @dragover=\"onDragOver\" @dragleave=\"onDragLeave\" @drop=\"onDrop\" v-bind=\"ptm('content')\" :data-p-highlight=\"false\">\n            <slot name=\"content\" :files=\"files\" :uploadedFiles=\"uploadedFiles\" :removeUploadedFileCallback=\"removeUploadedFile\" :removeFileCallback=\"remove\" :progress=\"progress\" :messages=\"messages\">\n                <ProgressBar v-if=\"hasFiles\" :value=\"progress\" :showValue=\"false\" :unstyled=\"unstyled\" :pt=\"ptm('pcProgressbar')\" />\n                <Message v-for=\"msg of messages\" :key=\"msg\" severity=\"error\" @close=\"onMessageClose\" :unstyled=\"unstyled\" :pt=\"ptm('pcMessage')\">{{ msg }}</Message>\n                <div v-if=\"hasFiles\" :class=\"cx('fileList')\">\n                    <FileContent :files=\"files\" @remove=\"remove\" :badgeValue=\"pendingLabel\" :previewWidth=\"previewWidth\" :templates=\"$slots\" :unstyled=\"unstyled\" :pt=\"pt\" />\n                </div>\n                <div v-if=\"hasUploadedFiles\" :class=\"cx('fileList')\">\n                    <FileContent :files=\"uploadedFiles\" @remove=\"removeUploadedFile\" :badgeValue=\"completedLabel\" badgeSeverity=\"success\" :previewWidth=\"previewWidth\" :templates=\"$slots\" :unstyled=\"unstyled\" :pt=\"pt\" />\n                </div>\n            </slot>\n            <div v-if=\"$slots.empty && !hasFiles && !hasUploadedFiles\" v-bind=\"ptm('empty')\">\n                <slot name=\"empty\"></slot>\n            </div>\n        </div>\n    </div>\n    <div v-else-if=\"isBasic\" :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <Message v-for=\"msg of messages\" :key=\"msg\" severity=\"error\" @close=\"onMessageClose\" :unstyled=\"unstyled\" :pt=\"ptm('pcMessages')\">{{ msg }}</Message>\n        <Button :label=\"chooseButtonLabel\" :class=\"chooseButtonClass\" :style=\"style\" :disabled=\"disabled\" :unstyled=\"unstyled\" @mouseup=\"onBasicUploaderClick\" @keydown.enter=\"choose\" @focus=\"onFocus\" @blur=\"onBlur\" v-bind=\"ptm('pcButton')\">\n            <template #icon=\"iconProps\">\n                <slot v-if=\"!hasFiles || auto\" name=\"uploadicon\">\n                    <component :is=\"uploadIcon ? 'span' : 'UploadIcon'\" :class=\"[iconProps.class, uploadIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcButton')['icon']\" />\n                </slot>\n                <slot v-else name=\"chooseicon\">\n                    <component :is=\"chooseIcon ? 'span' : 'PlusIcon'\" :class=\"[iconProps.class, chooseIcon]\" aria-hidden=\"true\" v-bind=\"ptm('pcButton')['icon']\" />\n                </slot>\n            </template>\n        </Button>\n        <slot v-if=\"!auto\" name=\"filelabel\" :class=\"cx('filelabel')\">\n            <span :class=\"cx('filelabel')\" :files=\"files\">\n                {{ basicFileChosenLabel }}\n            </span>\n        </slot>\n        <input v-if=\"!hasFiles\" ref=\"fileInput\" type=\"file\" :accept=\"accept\" :disabled=\"disabled\" :multiple=\"multiple\" @change=\"onFileSelect\" @focus=\"onFocus\" @blur=\"onBlur\" v-bind=\"ptm('input')\" />\n    </div>\n</template>\n\n<script>\nimport { addClass, removeClass } from '@primeuix/utils/dom';\nimport PlusIcon from '@primevue/icons/plus';\nimport TimesIcon from '@primevue/icons/times';\nimport UploadIcon from '@primevue/icons/upload';\nimport Button from 'primevue/button';\nimport Message from 'primevue/message';\nimport ProgressBar from 'primevue/progressbar';\nimport Ripple from 'primevue/ripple';\nimport BaseFileUpload from './BaseFileUpload.vue';\nimport FileContent from './FileContent.vue';\n\nexport default {\n    name: 'FileUpload',\n    extends: BaseFileUpload,\n    inheritAttrs: false,\n    emits: ['select', 'uploader', 'before-upload', 'progress', 'upload', 'error', 'before-send', 'clear', 'remove', 'remove-uploaded-file'],\n    duplicateIEEvent: false,\n    data() {\n        return {\n            uploadedFileCount: 0,\n            files: [],\n            messages: [],\n            focused: false,\n            progress: null,\n            uploadedFiles: []\n        };\n    },\n    methods: {\n        upload() {\n            if (this.hasFiles) this.uploader();\n        },\n        onBasicUploaderClick(event) {\n            if (event.button === 0 && !this.hasFiles) this.$refs.fileInput.click();\n        },\n        onFileSelect(event) {\n            if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n                this.duplicateIEEvent = false;\n\n                return;\n            }\n\n            this.messages = [];\n            this.files = this.files || [];\n            let files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n            for (let file of files) {\n                if (!this.isFileSelected(file)) {\n                    if (this.validate(file)) {\n                        if (this.isImage(file)) {\n                            file.objectURL = window.URL.createObjectURL(file);\n                        }\n\n                        this.files.push(file);\n                    }\n                }\n            }\n\n            this.$emit('select', { originalEvent: event, files: this.files });\n\n            if (this.fileLimit) {\n                this.checkFileLimit();\n            }\n\n            if (this.auto && this.hasFiles && !this.isFileLimitExceeded()) {\n                this.uploader();\n            }\n\n            if (event.type !== 'drop' && this.isIE11()) {\n                this.clearIEInput();\n            } else {\n                this.clearInputElement();\n            }\n        },\n        choose() {\n            this.$refs.fileInput.click();\n        },\n        uploader() {\n            if (this.customUpload) {\n                if (this.fileLimit) {\n                    this.uploadedFileCount += this.files.length;\n                }\n\n                this.$emit('uploader', { files: this.files });\n                this.clear();\n            } else {\n                let xhr = new XMLHttpRequest();\n                let formData = new FormData();\n\n                this.$emit('before-upload', {\n                    xhr: xhr,\n                    formData: formData\n                });\n\n                for (let file of this.files) {\n                    formData.append(this.name, file, file.name);\n                }\n\n                xhr.upload.addEventListener('progress', (event) => {\n                    if (event.lengthComputable) {\n                        this.progress = Math.round((event.loaded * 100) / event.total);\n                    }\n\n                    this.$emit('progress', {\n                        originalEvent: event,\n                        progress: this.progress\n                    });\n                });\n\n                xhr.onreadystatechange = () => {\n                    if (xhr.readyState === 4) {\n                        this.progress = 0;\n\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (this.fileLimit) {\n                                this.uploadedFileCount += this.files.length;\n                            }\n\n                            this.$emit('upload', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        } else {\n                            this.$emit('error', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        }\n\n                        this.uploadedFiles.push(...this.files);\n                        this.clear();\n                    }\n                };\n\n                xhr.open('POST', this.url, true);\n\n                this.$emit('before-send', {\n                    xhr: xhr,\n                    formData: formData\n                });\n\n                xhr.withCredentials = this.withCredentials;\n\n                xhr.send(formData);\n            }\n        },\n        clear() {\n            this.files = [];\n            this.messages = null;\n            this.$emit('clear');\n\n            if (this.isAdvanced) {\n                this.clearInputElement();\n            }\n        },\n        onFocus() {\n            this.focused = true;\n        },\n        onBlur() {\n            this.focused = false;\n        },\n        isFileSelected(file) {\n            if (this.files && this.files.length) {\n                for (let sFile of this.files) {\n                    if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n                }\n            }\n\n            return false;\n        },\n        isIE11() {\n            return !!window['MSInputMethodContext'] && !!document['documentMode'];\n        },\n        validate(file) {\n            if (this.accept && !this.isFileTypeValid(file)) {\n                this.messages.push(this.invalidFileTypeMessage.replace('{0}', file.name).replace('{1}', this.accept));\n\n                return false;\n            }\n\n            if (this.maxFileSize && file.size > this.maxFileSize) {\n                this.messages.push(this.invalidFileSizeMessage.replace('{0}', file.name).replace('{1}', this.formatSize(this.maxFileSize)));\n\n                return false;\n            }\n\n            return true;\n        },\n        isFileTypeValid(file) {\n            let acceptableTypes = this.accept.split(',').map((type) => type.trim());\n\n            for (let type of acceptableTypes) {\n                let acceptable = this.isWildcard(type) ? this.getTypeClass(file.type) === this.getTypeClass(type) : file.type == type || this.getFileExtension(file).toLowerCase() === type.toLowerCase();\n\n                if (acceptable) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n        getTypeClass(fileType) {\n            return fileType.substring(0, fileType.indexOf('/'));\n        },\n        isWildcard(fileType) {\n            return fileType.indexOf('*') !== -1;\n        },\n        getFileExtension(file) {\n            return '.' + file.name.split('.').pop();\n        },\n        isImage(file) {\n            return /^image\\//.test(file.type);\n        },\n        onDragEnter(event) {\n            if (!this.disabled) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragOver(event) {\n            if (!this.disabled) {\n                !this.isUnstyled && addClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', true);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragLeave() {\n            if (!this.disabled) {\n                !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', false);\n            }\n        },\n        onDrop(event) {\n            if (!this.disabled) {\n                !this.isUnstyled && removeClass(this.$refs.content, 'p-fileupload-highlight');\n                this.$refs.content.setAttribute('data-p-highlight', false);\n                event.stopPropagation();\n                event.preventDefault();\n\n                const files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n                const allowDrop = this.multiple || (files && files.length === 1);\n\n                if (allowDrop) {\n                    this.onFileSelect(event);\n                }\n            }\n        },\n        remove(index) {\n            this.clearInputElement();\n            let removedFile = this.files.splice(index, 1)[0];\n\n            this.files = [...this.files];\n            this.$emit('remove', {\n                file: removedFile,\n                files: this.files\n            });\n        },\n        removeUploadedFile(index) {\n            let removedFile = this.uploadedFiles.splice(index, 1)[0];\n\n            this.uploadedFiles = [...this.uploadedFiles];\n            this.$emit('remove-uploaded-file', {\n                file: removedFile,\n                files: this.uploadedFiles\n            });\n        },\n        clearInputElement() {\n            this.$refs.fileInput.value = '';\n        },\n        clearIEInput() {\n            if (this.$refs.fileInput) {\n                this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n                this.$refs.fileInput.value = '';\n            }\n        },\n        formatSize(bytes) {\n            const k = 1024;\n            const dm = 3;\n            const sizes = this.$primevue.config.locale?.fileSizeTypes || ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n            if (bytes === 0) {\n                return `0 ${sizes[0]}`;\n            }\n\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n            const formattedSize = parseFloat((bytes / Math.pow(k, i)).toFixed(dm));\n\n            return `${formattedSize} ${sizes[i]}`;\n        },\n        isFileLimitExceeded() {\n            if (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount && this.focused) {\n                this.focused = false;\n            }\n\n            return this.fileLimit && this.fileLimit < this.files.length + this.uploadedFileCount;\n        },\n        checkFileLimit() {\n            if (this.isFileLimitExceeded()) {\n                this.messages.push(this.invalidFileLimitMessage.replace('{0}', this.fileLimit.toString()));\n            }\n        },\n        onMessageClose() {\n            this.messages = null;\n        }\n    },\n    computed: {\n        isAdvanced() {\n            return this.mode === 'advanced';\n        },\n        isBasic() {\n            return this.mode === 'basic';\n        },\n        chooseButtonClass() {\n            return [this.cx('pcChooseButton'), this.class];\n        },\n        basicFileChosenLabel() {\n            if (this.auto) return this.chooseButtonLabel;\n            else if (this.hasFiles) {\n                if (this.files && this.files.length === 1) return this.files[0].name;\n\n                return this.$primevue.config.locale?.fileChosenMessage?.replace('{0}', this.files.length);\n            }\n\n            return this.$primevue.config.locale?.noFileChosenMessage || '';\n        },\n        hasFiles() {\n            return this.files && this.files.length > 0;\n        },\n        hasUploadedFiles() {\n            return this.uploadedFiles && this.uploadedFiles.length > 0;\n        },\n        chooseDisabled() {\n            return this.disabled || (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount);\n        },\n        uploadDisabled() {\n            return this.disabled || !this.hasFiles || (this.fileLimit && this.fileLimit < this.files.length);\n        },\n        cancelDisabled() {\n            return this.disabled || !this.hasFiles;\n        },\n        chooseButtonLabel() {\n            return this.chooseLabel || this.$primevue.config.locale.choose;\n        },\n        uploadButtonLabel() {\n            return this.uploadLabel || this.$primevue.config.locale.upload;\n        },\n        cancelButtonLabel() {\n            return this.cancelLabel || this.$primevue.config.locale.cancel;\n        },\n        completedLabel() {\n            return this.$primevue.config.locale.completed;\n        },\n        pendingLabel() {\n            return this.$primevue.config.locale.pending;\n        }\n    },\n    components: {\n        Button,\n        ProgressBar,\n        Message,\n        FileContent,\n        PlusIcon,\n        UploadIcon,\n        TimesIcon\n    },\n    directives: {\n        ripple: Ripple\n    }\n};\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}